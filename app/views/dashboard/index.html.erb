<!DOCTYPE html>
<html>
  <head>
    <title></title>
  </head>
  <body>
    <button id="toggle">Read Books</button>

    <div class="read-books">
      <!-- <h3>Read</h3>
      <% @read_books.each do |book| %>
      <div class="card" style="width: 18rem;">
        <%= image_tag(book.sm_image, class: "card-img-top") %>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">Title: <%= book.title %></li>
          <li class="list-group-item">Author(s): <%= book.authors %></li>
        </ul>
        <div class="card-body">
          <%= link_to "More Info", book_path(book),  class: "btn btn-outline-info"%>
          <%= link_to "Remove Book", book_path(book), method: "DELETE", class: "btn btn-outline-danger" %>
          <% end %> -->
    </div>
  </body>

    <script>
      $("#toggle").click(async function(){
        const fetchReadBooks = async () => {
          const response = await fetch("api/v1/user/read_books");
          const readBooks = await response.json();
          return readBooks;
        }
        const books = await fetchReadBooks();
        console.log(books)
        $(".read-books").toggle();
      });

  </script>
  <script type="text/javascript">
    const displayBooks = books.map(book => {
      return <h1>title: {book.title}</h1>
    });

  </script>
</html>





    <script>
    // const fetchReadBooks = async () => { return await fetch("api/v1/user/read_books")
    //   .then((response) => response.json())
    //   .then((response) => response)
    //   .catch((error) => error)
    // }
    </script>
